<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>嵌入聊天--首页</title>
    <script src="js/lib/jquery.min.js?v=v1.0.0" type="text/javascript"></script>
    <script src="js/lib/jquery.cookie.js?v=v1.0.0" type="text/javascript"></script>
    <script src="js/lib/Math.uuid.js?v=v1.0.0" type="text/javascript"></script>
    <script src="js/lib/threecss-c.js?v=v1.0.0" type="text/javascript"></script>
</head>
<script type="text/javascript">
    //加载内部类
    $T.version.loadCss("css/message_PJY.css");
    $T.version.loadCss("css/base.css");
    $T.version.loadCss("css/jquery.mCustomScrollbar.min.css");

    $T.version.loadScript("js/lib/jquery.mCustomScrollbar.concat.min.js");
    $T.version.loadScript("js/lib/My97DatePicker/WdatePicker.js");

    $T.version.loadCss("js/lib/kindeditor/themes/default/default.css");
    $T.version.loadCss("js/lib/kindeditor/themes/my/my.css");
    $T.version.loadScript("js/lib/kindeditor/kindeditor.js");
    $T.version.loadScript("js/lib/kindeditor/plugins/emoticons/emoticons.js");
    $T.version.loadScript("js/lib/kindeditor/lang/zh_CN.js");
    $T.version.loadScript("js/app/talk.js");

    $T.version.loadScript("js/app/NotificationExt.js");
    $T.version.loadScript("js/app/Url.js");
    $T.version.loadScript("js/app/CookieParam.js");
    $T.version.loadScript("js/app/CookieName.js");
    $T.version.loadScript("js/app/data/websocket/LoginChatProxy.js");
    $T.version.loadScript("js/app/data/http/TokenProxy.js");
    $T.version.loadScript("js/app/TalkMediator.js");
    $T.version.loadScript("js/app/GetUrlParam.js");
    $T.version.loadScript("js/app/UserObj.js");
    $T.version.loadScript("js/app/GroupObj.js");
    $T.version.loadScript("js/app/ChatObjEventType.js");
    $T.version.loadScript("js/app/ExpressionConvert.js");

    window.onload = function () {
        //初始化内部类
        $T.version.init();
        //初始化过滤器
        var testFilter = new TestFilter();
        $T.httpResultFilter.addFilter(testFilter);
        //初始化控制器
        $T.talkMediator.init();
        $T.register.register($T.talkMediator);
    }
</script>
<body>
<div class="window_P">
    <dl class="windowL_P fl">
        <dt>
            <span>通讯录</span>
        </dt>
        <dd>
            <ul id="talkList">

                <li class="group">
                    <p>我的同事<span class="cur_P" id="currentOnline">0</span>/ <span class="all_P" id="allUser">0</span>
                    </p>
                    <ul id="talkUserList">

                    </ul>
                </li>
            </ul>
        </dd>
    </dl>
    <dl class="windowR_P fl ">
        <dt>
            <span class="title_P" id="toTypeName">无</span>
            <i class="closeBtn_P" id="talk_close"></i>
        </dt>
        <dd class="talkCon_P" id="chatList">

        </dd>
        <dd class="funList_PJY">
            <div class="pr">
                <a href="javascript:;"></a>
                <a href="javascript:;" class="history_P"></a>
            </div>
        </dd>
        <dd class="textWin_P">
            <div>
                <textarea class="mytext_P" id="sendChatContent"></textarea>
            </div>
        </dd>
        <dd class="btnList_P">
            <a href="javascript:;" class="send_P" id="sendChat">发送</a>
        </dd>

    </dl>
    <dl class="windowR_P left2_P fl">
        <dt>
            <span class="title2_P"> <i class="return_P" id="returnChat"></i>消息记录（<span id="toTypeName2"></span>）</span>
            <i class="closeBtn_P"></i>
        </dt>
        <dd class="hisList_P">
            <div id="histortChat">

            </div>
        </dd>
        <dd class="hisFoot_P">
            <div class="pageList_P">
                <a href="javascript:;" class="first_P" id="firstPage"></a>
                <a href="javascript:;" class="prev_P" id="prePage"></a>
                <a href="javascript:;" class="next_P" id="nextPage"></a>
                <a href="javascript:;" class="last_P" id="lastPage"></a>
            </div>
            <div class="timeBox_P">
                <a href="javascript:;" id="historyTime"></a>
                <input type="text" class="hide" id="d1" onClick="$T.talkMediator.timeFun()"/>
            </div>
            <div class="clear"></div>
        </dd>

    </dl>
    <div class="clear"></div>
</div>
</body>
</html>